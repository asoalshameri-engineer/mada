<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تحدي المهارات</title>
  <link rel="icon" href="img/dd.jpg" type="image/png">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f7f9fc;
    }

    .search-container {
      display: flex;
      gap: 10px;
      margin: 20px;
      align-items: center;
    }

    #searchInput {
      padding: 8px 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      flex: 1;
    }

    .clear-btn {
      padding: 8px 16px;
      background-color: #8e2cb1;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-size: 16px;
    }

    .clear-btn:hover {
      background-color: #2b62c0;
    }

    .challenge-container {
      display: flex;
      flex-wrap: wrap;
      padding: 1rem;
      gap: 1.5rem;
      justify-content: center;
    }

    .challenge-card {
      width: calc(30% - 1.5rem);
      min-width: 250px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.2s;
      box-sizing: border-box;
    }

    @media (max-width: 768px) {
      .challenge-card {
        width: calc(50% - 1.5rem);
      }
    }

    @media (max-width: 480px) {
      .challenge-card {
        width: 100%;
      }
    }

    .challenge-card:hover {
      transform: scale(1.01);
    }

    .detail-view {
      display: none;
      padding: 1rem;
      max-width: 600px;
      margin: 15px auto;
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .active-view {
      display: block;
    }

    .card-title {
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 0.75rem;
      text-align: center;
    }

    .card-img {
      width: 100%;
      height: max-content;
      border-radius: 6px;
      margin-bottom: 0.75rem;
    }

    .card-desc {
      font-size: 0.95rem;
      text-align: center;
    }

    .challenge-frame {
      padding: 1rem;
      margin-bottom: 1rem;
      background: #f9f9f9;
      border-radius: 6px;
      border: 1px solid #eee;
    }

    .challenge-frame h2 {
      font-size: 1.2rem;
      margin-top: 0;
    }

    .challenge-frame p {
      font-size: 1rem;
      line-height: 1.6;
    }

    textarea {
      width: calc(100% - 12px);
      height: 80px !important;
      /* تثبيت ارتفاع مساحة الملاحظات بشكل قاطع */
      margin-top: 0.5rem;
      padding: 6px;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 0.9rem;
      resize: none;
      /* منع تغيير حجم مربع النص */
    }

    .buttons {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .btn {
      flex-grow: 1;
      padding: 0.7rem;
      background: #e0e0e0;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 1rem;
    }

    .btn:hover {
      background: #d1d1d1;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background: #eee;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 0.75rem;
    }

    .progress-bar-fill {
      height: 100%;
      background: #8e2cb1;
      width: 0%;
      transition: width 0.5s;
      border-radius: 5px;
    }

    .back-button {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      margin-bottom: 1rem;
      color: #555;
    }

    .small-square {
      display: block;
      width: 90px;
      height: 35px;
      background-color: #8e2cb1;
      color: rgb(245, 240, 240);
      text-align: center;
      line-height: 35px;
      text-decoration: none;
      font-size: 0.9rem;
      border-radius: 4px;
      margin-top: 1rem;
      margin-left: auto;
      margin-right: auto;
    }

    .small-square:hover {
      background-color: #6293de;
    }

    .support-button {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 50px;
      height: 50px;
      background-color: #8e2cb1;
      color: white;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      line-height: 50px;
      border-radius: 50%;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: background-color 0.3s ease;
    }

    .support-button:hover {
      background-color: #0056b3;
    }

    /* أنماط زر الوضع الليلي */
    .night-mode-toggle {
      cursor: pointer;
      padding: 8px;
      margin-left: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
    }

    .night-mode-icon {
      font-size: 20px;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* أنماط الوضع الليلي */
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    body.dark-mode .challenge-card {
      background-color: #2d2d2d;
      border-color: #444;
      color: #e0e0e0;
    }

    body.dark-mode .detail-view,
    body.dark-mode .challenge-frame {
      background-color: #2d2d2d;
      border-color: #444;
      color: #e0e0e0;
    }

    body.dark-mode .btn {
      background-color: #444;
      color: #e0e0e0;
    }

    body.dark-mode .btn:hover {
      background-color: #555;
    }

    body.dark-mode textarea {
      background-color: #333;
      color: #e0e0e0;
      border-color: #555;
    }

    body.dark-mode .search-container input {
      background-color: #333;
      color: #e0e0e0;
      border-color: #555;
    }

    body.dark-mode .clear-btn {
      background-color: #6a3093;
    }

    body.dark-mode .clear-btn:hover {
      background-color: #7d3fb8;
    }
  </style>
</head>

<body>

  <header>
    <!-- العناصر الموجودة حاليا -->
    <div class="night-mode-toggle" onclick="toggleNightMode()">
      <div class="night-mode-icon" style="color: #8e2cb1;">▶</div>

      <a href="support.html" class="support-button">؟</a>
    </div>
  </header>

  <div class="search-container" id="searchContainer">
    <input type="text" placeholder="ابحث..." id="searchInput" oninput="handleSearch()">
    <button class="clear-btn" onclick="clearSearch()">مسح</button>
  </div>

  <div class="challenge-container" id="challengeList">
    <div class="challenge-card" onclick="openChallenge(1)">
      <div class="card-title">تحدي التواصل الفعّال </div>
      <img src="img/t.jpg" class="card-img" alt="" />
      <div class="card-desc">تحسين مهارات التواصل الشفهي والكتابي بطريقة واضحة ومؤثرة...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(2)">
      <div class="card-title">تحدي إدارة الوقت</div>
      <img src="img/t1.jpg" class="card-img" alt="" />
      <div class="card-desc">اكتساب مهارة تنظيم الوقت وزيادة الإنتاجية...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(3)">
      <div class="card-title">تحدي التفكير النقدي </div>
      <img src="img/t2.jpg" class="card-img" alt=" " />
      <div class="card-desc">تطوير القدرة على تحليل المعلومات واتخاذ قرارات مدروسة...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(4)">
      <div class="card-title">تحدي التعلم المستمر</div>
      <img src="img/t3.jpg" class="card-img" alt="" />
      <div class="card-desc">بناء عادة التعلم والتطور الذاتي المستمر...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(5)">
      <div class="card-title">تحدي العمل الجماعي</div>
      <img src="img/t4.jpg" class="card-img" alt="" />
      <div class="card-desc">تحسين مهارات التعاون والتفاعل داخل فريق العمل...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(6)">
      <div class="card-title">تحدي التفكير الإبداعي</div>
      <img src="img/t5.jpg" class="card-img" alt="" />
      <div class="card-desc">تنمية القدرة على ابتكار أفكار وحلول جديدة وغير تقليدية...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(7)">
      <div class="card-title">تحدي مهارات العرض والتقديم</div>
      <img src="img/t6.jpg" class="card-img" alt=" " />
      <div class="card-desc">تحسين مهارات التحدث أمام الجمهور بثقة واحترافية...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(8)">
      <div class="card-title">تحدي مهارات التفاوض</div>
      <img src="img/t7.jpg" class="card-img" alt="" />
      <div class="card-desc">اكتساب القدرة على الوصول إلى اتفاقيات تحقق مكاسب متبادلة...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(9)">
      <div class="card-title">تحدي مهارات حل المشكلات </div>
      <img src="img/t8.jpg" class="card-img" alt=" " />
      <div class="card-desc">تطوير القدرة على التعرف على المشكلات وتحليلها وحلها بفعالية...</div>
    </div>
    <div class="challenge-card" onclick="openChallenge(10)">
      <div class="card-title">تحدي مهارات تنظيم الذات</div>
      <img src="img/t9.jpg" class="card-img" alt=" " />
      <div class="card-desc">تحسين قدرة التحكم في العادات اليومية وتطوير الانضباط الذاتي...</div>
    </div>
    <a href="supportchallenge.html" class="support-button">?</a>
  </div>

  <div class="detail-view" id="challengeDetail">
    <button class="back-button" onclick="goBackToChallenges()"> ← العودة</button>
    <div class="challenge-frame">
      <h2 id="challengeTitle"></h2>
      <img id="challengeImage" style="width:100%; height:auto; border-radius:6px; margin-bottom: 0.5rem;"
        alt="صورة التحدي بالتفصيل" />
      <p id="challengeDescription"></p>
    </div>
    <div>
      <h3>هدف التحدي:</h3>
      <p style="font-size: 1rem;">قم بتنفيذ التحدي بكل جدية واستمتع بتجربتك.</p>
    </div>
    <div>
      <h3>ملاحظات:</h3>
      <textarea style="height: 80px !important; resize: none;" placeholder="اكتب ملاحظاتك هنا..."></textarea>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill" id="progressFill"></div>
    </div>
    <div class="buttons">
      <button class="btn" id="completeButton" onclick="markCompleted()">تم الإنجاز</button>

      <button class="btn" onclick="shareChallenge()">مشاركة</button>
    </div>
  </div>



  <a href="interface.html" class="small-square">رجوع</a>

  <script>
    const challengeData = {
      1: {
        title: "تحدي التواصل الفعّال",
        img: "img/t.jpg",
        desc: "جرب أن تستمع لكل حديث بتركيز كامل دون مقاطعة، وحاول تعبر عن أفكارك بكلمات واضحة وبسيطة. ستلاحظ كيف تزداد الثقة بينك وبين الآخرين، وكيف يصبح الحديث أكثر سلاسة وإلهامًا. هذا التحدي يجعلك تشعر بقوة تأثير كلماتك ويساعدك تبني علاقات أعمق. في نهاية اليوم، ستشعر بالرضا لأنك وصلت رسالتك بوضوح وود.."
      },
      2: {
        title: "تحدي إدارة الوقت",
        img: "img/t1.jpg",
        desc: "خصص يومًا لتنظيم وقتك بدقة وابدأ بتحديد أولوياتك وكتابة جدول زمني واضح. عندما ترى مهامك تكتمل في أوقاتها، ستشعر بانسيابية وثقة أكبر في نفسك. التحدي يعلمك كيف تستثمر كل دقيقة دون تضييع، وهذا الشعور بالإنجاز يملأ قلبك بالحماس. في النهاية، ستفاجأ بكمية الأمور التي أنجزتها وكيف زادت راحتك الذهنية.."
      },
      3: {
        title: "تحدي التفكير النقدي",
        img: "img/t2.jpg",
        desc: "ابدأ يومك بتحليل معلومة واحدة أو رأي بشكل موضوعي دون حكم مسبق، وابحث عن الأدلة التي تدعم أو تعارضها. مع كل تجربة ستشعر بأنك أصبحت أكثر حذرًا ووعيًا في اتخاذ قراراتك. هذا التمرين يمنحك شعورًا بالسيطرة على أفكارك ورفض الأفكار الخاطئة. في النهاية، ستدرك كم تغيرت طريقة تفكيرك نحو الأفضل .. "
      },
      4: {
        title: "تحدي التعلم المستمر",
        img: "img/t3.jpg",
        desc: "جرب أن تخصص وقتًا يوميًا لتعلم شيء جديد، مهما كان صغيرًا، سواء قراءة مقال أو مشاهدة فيديو تعليمي. ستلاحظ كيف يبدأ شغف التعلم يملأ يومك ويحفزك لتجربة المزيد. التحدي يجعلك تشعر بأنك في رحلة مستمرة نحو التطور، وأنك تزداد معرفة وقوة. مع نهاية اليوم، ستحس بفرحة اكتساب مهارة جديدة.."
      },
      5: {
        title: "تحدي العمل الجماعي",
        img: "img/t4.jpg",
        desc: "شارك في مهمة صغيرة مع شخص آخر أو فريق، وركز على الاستماع والتعاون بدلًا من التنافس. ستلاحظ كيف يسهل الإنجاز عندما يعمل الجميع بتناغم، وهذا الشعور بالانتماء يدفعك للاستمرار. التحدي يعيد لك معنى الدعم والاحترام المتبادل. مع نهاية اليوم، ستشعر بالفرح لأنكم أنجزتم شيئًا معًا بروح واحدة.."
      },
      6: {
        title: "تحدي التفكير الإبداعي",
        img: "img/t5.jpg",
        desc: "خصص وقتًا لتجربة طريقة جديدة لحل مشكلة تواجهها أو لإنجاز مهمة روتينية. جرب أفكار مختلفة حتى لو بدت غريبة، واستمتع بحرية التفكير. ستشعر بسعادة الاكتشاف والإلهام تتسلل إليك، وهذا التحدي ينشط عقلك ويجدد طاقتك. في النهاية، ستحس بفخر لأنك استطعت أن ترى الأمور من زاوية مختلفة.."
      },
      7: {
        title: "تحدي مهارات العرض والتقديم",
        img: "img/t6.jpg",
        desc: "جرب أن تقدم فكرة بسيطة لأصدقائك أو عائلتك، وركز على لغة جسدك وحضورك. مع كل محاولة ستشعر بتزايد ثقتك، وكيف تبدأ الكلمات تتدفق بسلاسة. التحدي يجعلك تدرك أنك قادر على التأثير وإلهام الآخرين. مع نهاية اليوم، ستفرح بأنك تجاوزت خوفك وأصبحت أكثر قدرة على التعبير.."
      },
      8: {
        title: " تحدي مهارات التفاوض",
        img: "img/t7.jpg",
        desc: " في محادثة بسيطة، حاول أن تستمع جيدًا لمطالب الطرف الآخر وتبحث عن حلول وسط ترضي الجميع. ستشعر بقوة المرونة وفهم الطرف الآخر، مما يقلل التوتر ويزيد الاحترام. التحدي يعلمك أن التفاوض فن لا يقتصر على الفوز بل على التعاون. في النهاية، ستشعر بالرضا لأنك نجحت في بناء جسر تفاهم.."
      },
      9: {
        title: "تحدي مهارات حل المشكلات",
        img: "img/t8.jpg",
        desc: "اختر مشكلة تواجهها وحاول أن تقسمها إلى أجزاء صغيرة وتبحث عن حلول لكل جزء. مع كل خطوة ستشعر بأنك تسيطر على الوضع ولا تترك الأمور للصدفة. التحدي يمنحك شعورًا بالقوة والثقة بأنك قادر على مواجهة الصعاب وتحويلها لفرص. مع نهاية اليوم، ستشعر بالفخر لأنك وجدت حلولًا عملية وفعالة.."
      },
      10: {
        title: "تحدي مهارات تنظيم الذات",
        img: "img/t9.jpg",
        desc: "ابدأ يومك بوضع خطة واضحة مع أهداف صغيرة وواقعية، وكن ملتزمًا بها مهما حدث. ستشعر بالهدوء والتركيز لأنك تتحكم بيومك وليس العكس. هذا التحدي يعلمك الانضباط بطريقة تمنحك طاقة إيجابية لاستكمال المهام. في نهاية اليوم، ستشعر بالإنجاز لأنك حققت تقدمًا ملموسًا نحو أهدافك."
      }
    };


    function openChallenge(id) {
      currentChallengeId = id;

      const data = challengeData[id];
      document.getElementById("challengeList").style.display = "none";
      document.getElementById("challengeDetail").classList.add("active-view");
      document.getElementById("challengeTitle").innerText = data.title;
      document.getElementById("challengeImage").src = data.img;
      document.getElementById("challengeDescription").innerText = data.desc;
      document.getElementById("completeButton").style.display = "block";
      document.querySelector(".search-container").style.visibility = "hidden";
      loadNotes(id);
    }



    const notesTextarea = document.querySelector('textarea[placeholder="اكتب ملاحظاتك هنا..."]');

    function saveNotes(challengeId) {
      localStorage.setItem('notes_' + challengeId, notesTextarea.value);
    }

    function loadNotes(challengeId) {
      const saved = localStorage.getItem('notes_' + challengeId);
      if (saved) {
        notesTextarea.value = saved;
      } else {
        notesTextarea.value = '';
      }
    }
    notesTextarea.addEventListener('input', () => {
      saveNotes(currentChallengeId);
    });

    function goBackToChallenges() {
      document.getElementById("challengeDetail").classList.remove("active-view");
      document.getElementById("challengeList").style.display = "flex";
      document.getElementById("completeButton").style.display = "none";
      document.querySelector(".search-container").style.visibility = "visible";
      
      hideRatingModal();
    }

    function markCompleted() {
      document.getElementById("progressFill").style.width = "100%";
    }

    function resetProgress() {
      document.getElementById("progressFill").style.width = "0%";
    }



    function shareChallenge() {
      const currentUrl = window.location.href;
      navigator.clipboard.writeText(currentUrl).then(() => {
        alert("تم نسخ رابط التحدي إلى الحافظة!");
      }).catch(err => {
        console.error('فشل نسخ الرابط: ', err);
        alert("فشل نسخ الرابط.");
      });
    }



    // دالة تبديل الوضع الليلي
    function toggleNightMode() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled');
    }

    // تحميل حالة الوضع الليلي عند فتح الصفحة
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
    }






  </script>
</body>

</html>